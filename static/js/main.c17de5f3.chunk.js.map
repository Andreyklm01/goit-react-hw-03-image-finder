{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","api/api.jsx","App.jsx","index.js","components/SearchBar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imagesData","onClick","map","item","ImageGalleryItemImage","largeImageURL","src","webformatURL","alt","tags","id","ImageGallery","Button","loadMore","modalRef","document","querySelector","Modal","closeOnEsc","code","onClose","closeOnBackdrop","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","largeUrl","getImages","searchQuery","pageNumber","axios","get","then","response","data","hits","propTypes","PropTypes","string","number","App","isLoading","showModal","largeImage","error","onChangeQuery","fetchPictures","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","toggleModal","onImageClick","url","_","visibleLoadMoreBtn","length","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mKC6CZC,E,4MAzCbC,MAAQ,CACNC,MAAO,I,EAETC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAME,OAAOC,S,EAGtCC,aAAe,SAAAJ,GACbA,EAAMK,iBACN,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,M,4CAGzB,WACE,IAAQA,EAAUU,KAAKX,MAAfC,MAER,OACE,wBAAQW,UAAWC,IAAEd,UAArB,SACE,uBAAMa,UAAWC,IAAEC,WAAYJ,SAAUC,KAAKJ,aAA9C,UACE,wBAAQQ,KAAK,SAASH,UAAWC,IAAEG,iBAAnC,SACE,sBAAMJ,UAAWC,IAAEI,sBAAnB,sBAGF,uBACEL,UAAWC,IAAEK,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZf,MAAOL,EACPqB,SAAUX,KAAKT,wB,GA/BHqB,a,iBCkBTC,EAnBU,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QACtC,OAAOD,EAAWE,KAAI,SAAAC,GACpB,OACE,oBAAIhB,UAAWC,IAAEW,iBAAjB,SACE,qBACEZ,UAAWC,IAAEgB,sBACbH,QAAS,kBAAMA,EAAQE,EAAKE,gBAC5BC,IAAKH,EAAKI,aACVC,IAAKL,EAAKM,QAL0BN,EAAKO,Q,iBCWpCC,EAbM,SAAC,GAA6B,IAA3BX,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QAClC,OACE,oBAAId,UAAWC,IAAEuB,aAAjB,SACE,cAAC,EAAD,CAAkBX,WAAYA,EAAYC,QAASA,O,kCCO1CW,EAXA,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAChB,OACE,wBAAQ1B,UAAWC,IAAEwB,OAAQtB,KAAK,SAASW,QAASY,EAApD,wB,iBCAEC,EAAWC,SAASC,cAAc,eAsCzBC,E,4MA3BbC,WAAa,SAAAxC,GACQ,WAAfA,EAAMyC,MACR,EAAKnC,MAAMoC,W,EAIfC,gBAAkB,SAAA3C,GACZA,EAAM4C,gBAAkB5C,EAAME,QAChC,EAAKI,MAAMoC,W,uDAhBf,WACEG,OAAOC,iBAAiB,UAAWtC,KAAKgC,c,kCAG1C,WACEK,OAAOE,oBAAoB,UAAWvC,KAAKgC,c,oBAc7C,WACE,OAAOQ,uBACL,qBAAKvC,UAAWC,IAAEuC,QAAS1B,QAASf,KAAKmC,gBAAzC,SACE,qBAAKlC,UAAWC,IAAE6B,MAAlB,SACE,qBAAKX,IAAKpB,KAAKF,MAAM4C,SAAUpB,IAAI,SAGvCM,O,GA3BchB,a,iCCFd+B,EAAY,SAAC,GAA0C,IAAD,IAAvCC,mBAAuC,MAAzB,GAAyB,MAArBC,kBAAqB,MAAR,EAAQ,EAC1D,OAAOC,IACJC,IADI,UAHQ,0BAGR,eAEeH,EAFf,iBAEmCC,EAFnC,gBAJM,qCAIN,yDAIJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,SAGpCR,EAAUS,UAAY,CACpBR,YAAaS,IAAUC,OACvBT,WAAYQ,IAAUE,QAETZ,QCyEAa,G,kNAhFbnE,MAAQ,CACN6D,KAAM,GACNL,WAAY,EACZD,YAAa,GACba,WAAW,EACXC,WAAW,EACXC,WAAY,GACZC,MAAO,M,EAGTC,cAAgB,SAAAvE,GACd,EAAKG,SAAS,CAAEmD,YAAatD,K,EAG/BwE,cAAgB,WACd,MAAoC,EAAKzE,MAAjCwD,EAAR,EAAQA,WAAYD,EAApB,EAAoBA,YACpB,EAAKnD,SAAS,CAAEgE,WAAW,IAE3Bd,EADgB,CAAEC,cAAaC,eAE5BG,MAAK,SAAAG,GACJ,EAAK1D,UAAS,SAAAsE,GAAS,MAAK,CAC1Bb,KAAK,GAAD,mBAAMa,EAAUb,MAAhB,YAAyBC,IAC7BN,WAAYkB,EAAUlB,WAAa,SAGtCG,MAAK,WACJX,OAAO2B,SAAS,CACdC,IAAKpC,SAASqC,gBAAgBC,aAC9BC,SAAU,cAGbC,OAAM,SAAAT,GAAK,OAAI,EAAKnE,SAAS,CAAEmE,aAC/BU,SAAQ,kBAAM,EAAK7E,SAAS,CAAEgE,WAAW,Q,EAU9Cc,YAAc,WACZ,EAAK9E,UAAS,kBAAoB,CAChCiE,WADY,EAAGA,e,EAInBc,aAAe,SAAAC,GACb,EAAKhF,SAAS,CAAEkE,WAAYc,IAC5B,EAAKF,e,wDAdP,SAAmBG,EAAGX,GAChBA,EAAUnB,cAAgB5C,KAAKX,MAAMuD,cACvC5C,KAAKP,SAAS,CAAEyD,KAAM,KACtBlD,KAAK8D,mB,oBAcT,WACE,MAA0D9D,KAAKX,MAAvD6D,EAAR,EAAQA,KAAMO,EAAd,EAAcA,UAAWG,EAAzB,EAAyBA,MAAOD,EAAhC,EAAgCA,WAAYD,EAA5C,EAA4CA,UACtCiB,EAAqBzB,EAAK0B,OAAS,IAAMnB,EAE/C,OACE,sBAAKxD,UAAU,MAAf,UACG2D,GAAS,0DACTF,GACC,cAAC,EAAD,CAAOhB,SAAUiB,EAAYzB,QAASlC,KAAKuE,cAE7C,cAAC,EAAD,CAAWxE,SAAUC,KAAK6D,gBAC1B,cAAC,EAAD,CAAc/C,WAAYoC,EAAMnC,QAASf,KAAKwE,eAC7CG,GAAsB,cAAC,EAAD,CAAQhD,SAAU3B,KAAK8D,gBAC7CL,GACC,cAAC,IAAD,CACExD,UAAU,SACVG,KAAK,WACLyE,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,a,GAzEHpE,cCJlBqE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtD,SAASuD,eAAe,U,kBCR1BlG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.c17de5f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1iS8R\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3YM0l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2YYia\",\"Modal\":\"Modal_Modal__3mz8K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2UzIh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3F2CX\"};","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n  handleChange = event => {\r\n    this.setState({ query: event.target.value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ imagesData, onClick }) => {\r\n  return imagesData.map(item => {\r\n    return (\r\n      <li className={s.ImageGalleryItem} key={item.id}>\r\n        <img\r\n          className={s.ImageGalleryItemImage}\r\n          onClick={() => onClick(item.largeImageURL)}\r\n          src={item.webformatURL}\r\n          alt={item.tags}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imagesData: PropTypes.arrayOf(PropTypes.object),\r\n  onClick: PropTypes.func,\r\n};\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ imagesData, onClick }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      <ImageGalleryItem imagesData={imagesData} onClick={onClick} />\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  imagesData: PropTypes.arrayOf(PropTypes.object),\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ loadMore }) => {\r\n  return (\r\n    <button className={s.Button} type=\"button\" onClick={loadMore}>\r\n      Load More\r\n    </button>\r\n  );\r\n};\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\nconst modalRef = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeOnEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeOnEsc);\r\n  }\r\n\r\n  closeOnEsc = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  closeOnBackdrop = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.closeOnBackdrop}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.largeUrl} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRef,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nconst apiKey = '20625713-fedbabfb53260f0f5bcc9457f';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\nconst getImages = ({ searchQuery = '', pageNumber = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}/?q=${searchQuery}&page=${pageNumber}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\ngetImages.propTypes = {\r\n  searchQuery: PropTypes.string,\r\n  pageNumber: PropTypes.number,\r\n};\r\nexport default getImages;\r\n","import { Component } from 'react';\nimport Searchbar from './components/SearchBar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from 'react-loader-spinner';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport getImages from './api/api';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    data: [],\n    pageNumber: 1,\n    searchQuery: '',\n    isLoading: false,\n    showModal: false,\n    largeImage: '',\n    error: null,\n  };\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query });\n  };\n\n  fetchPictures = () => {\n    const { pageNumber, searchQuery } = this.state;\n    this.setState({ isLoading: true });\n    const options = { searchQuery, pageNumber };\n    getImages(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          data: [...prevState.data, ...hits],\n          pageNumber: prevState.pageNumber + 1,\n        }));\n      })\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.setState({ data: [] });\n      this.fetchPictures();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  onImageClick = url => {\n    this.setState({ largeImage: url });\n    this.toggleModal();\n  };\n\n  render() {\n    const { data, isLoading, error, largeImage, showModal } = this.state;\n    const visibleLoadMoreBtn = data.length > 0 && !isLoading;\n\n    return (\n      <div className=\"App\">\n        {error && <h1>Something gone wrong :\\</h1>}\n        {showModal && (\n          <Modal largeUrl={largeImage} onClose={this.toggleModal} />\n        )}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery imagesData={data} onClick={this.onImageClick} />\n        {visibleLoadMoreBtn && <Button loadMore={this.fetchPictures} />}\n        {isLoading && (\n          <Loader\n            className=\"Loader\"\n            type=\"TailSpin\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__EBj-e\",\"SearchForm\":\"Searchbar_SearchForm__10hb3\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1Jk39\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3etLY\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2ALST\"};"],"sourceRoot":""}